(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{56:function(e,t,a){e.exports=a.p+"static/media/splashImage.a735ad8c.jpeg"},62:function(e,t,a){e.exports=a(98)},67:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(27),o=a.n(r);a(67),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(68);var l=a(25),i=a(11),c=a(7),m=a(8),u=a(10),p=a(9),h=a(56),d=a.n(h),g=a(101),y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleClick=function(t){"Start an account"===t.target.textContent&&e.setState({isSignUp:!0}),e.setState({authType:t.target.textContent})},e.state={toUserPortal:!1,logInClick:!1,signUpClick:!1,isLogIn:!1,isSignUp:!1,authType:""},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return"Log in"===this.state.authType?s.a.createElement(i.a,{to:{pathname:"/log-in",state:{isLogIn:this.state.isLogIn}}}):"Start an account"===this.state.authType?s.a.createElement(i.a,{to:{pathname:"/sign-up",state:{isSignUp:this.state.isSignUp}}}):s.a.createElement("div",null,s.a.createElement("div",{className:"container-fluid min-vh-100 d-flex flex-column"},s.a.createElement("div",{className:"row flex-grow-1 landing-row"},s.a.createElement("div",{className:"col-lg d-block mx-auto left-col"},s.a.createElement("h1",{className:"text-left welcome-text"},"Welcome to Trade",s.a.createElement("span",{className:"topia-color"},"Topia")),s.a.createElement("h3",{className:"text-left second-description-text"},"A make believe stock trading resource."),s.a.createElement("h4",{className:"mb-5 text-left description-text"},"A fun and simple way to practice trading and selling from public companies: with no strings attached."),s.a.createElement("button",{className:"d-inline-block btn btn-outline-success my-2 my-sm-0 landing-page-buttons",onClick:function(t){return e.handleClick(t)}},s.a.createElement(g.a,{className:"ml-2 d-inline-block user-icon",color:"white",width:"15",height:"15"}),s.a.createElement("span",{className:"log-in-button-text"},"Log in")),s.a.createElement("button",{className:"d-inline-block btn btn-outline-success mr-3 my-2 my-sm-0 landing-page-buttons",onClick:function(t){return e.handleClick(t)}},s.a.createElement("span",{className:"account-button-text"},"Start an account"))),s.a.createElement("div",{className:"col-lg d-block mx-auto right-col"},s.a.createElement("img",{alt:"stock market graph",className:"splash-image d-block mx-auto",src:d.a})))))}}]),a}(n.Component),b=a(13),f=a(102),S=a(14),E=a.n(S),w=a(31),v=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"d-block container"},s.a.createElement(w.a,{style:{display:""!==this.props.logInErrorMessage?"block":"none"},show:this.props.setShow,className:"d-block",variant:"danger",onClose:this.props.handleClose,dismissible:!0},s.a.createElement(w.a.Heading,null,"Whoops! You forgot something."),s.a.createElement("p",null,this.props.logInErrorMessage)))}}]),a}(n.Component),k=a(22),N=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleShow=function(){""!==e.state.logInErrorMessage&&e.setState({setShow:!0})},e.handleClose=function(){e.setState({setShow:!1,logInErrorMessage:""})},e.handleChange=function(t){var a,n=t.target,s=n.name,r=n.value;e.setState((a={},Object(b.a)(a,s,r),Object(b.a)(a,"errorMessage",""),Object(b.a)(a,"logInMessage",""),Object(b.a)(a,"logInErrorMessage",""),a))},e.handleSubmit=function(t){t.preventDefault(),e.logInUser()},e.logInUser=function(){e.setState({loading:!0}),E.a.post("/api/authorize",{username:e.state.existingUsername,password:e.state.existingPassword}).then((function(t){localStorage.setItem("session_id",t.data.id),localStorage.setItem("user_id",t.data.userId),e.setState({toUserPortal:!0,loading:!1})})).catch((function(t){"empty username and password"===t.response.data.detail&&e.setState({logInErrorMessage:"Please enter a username and password.",setShow:!0,loading:!1}),"empty username"===t.response.data.detail&&e.setState({logInErrorMessage:"Please enter a username.",setShow:!0,loading:!1}),"empty password"===t.response.data.detail&&e.setState({logInErrorMessage:"Please enter a password.",setShow:!0,loading:!1}),"false username"===t.response.data.detail&&e.setState({logInErrorMessage:"The username you chose is already taken. Please try another entry.",setShow:!0,loading:!1}),"username doesn't exist"===t.response.data.detail&&e.setState({logInErrorMessage:"This username does not exist. Please enter an existing username.",setShow:!0,loading:!1}),"wrong credentials"===t.response.data.detail&&e.setState({logInErrorMessage:"Username or password combination is invalid.",setShow:!0,loading:!1})}))},e.logInErrorText=function(){if(""===e.state.logInErrorMessage)return!0},e.renderAlert=function(){if(""!==e.state.logInErrorMessage)return s.a.createElement(v,{setShow:e.state.setShow,handleClose:e.handleClose,logInErrorMessage:e.state.logInErrorMessage})},e.state={newUsername:"",newPassword:"",existingUsername:"",existingPassword:"",errorMessage:"",logInErrorMessage:"",toUserPortal:!1,setShow:!1,loading:!1},e}return Object(m.a)(a,[{key:"render",value:function(){if(!0===this.state.toUserPortal)return s.a.createElement(i.a,{to:"/"});var e=this.state.loading;return s.a.createElement("div",{className:"container-fluid log-in-container"},s.a.createElement("header",{className:"text-center log-in-header"},s.a.createElement(f.a,{className:"mx-auto d-block key-icon"}),s.a.createElement("h2",{className:"mt-2 log-in-text"},"Log in")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-5 input-col"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"label-text",for:""},"User Id"),s.a.createElement("input",{type:"input",className:"form-control username-input",onChange:this.handleChange,placeholder:"",name:"existingUsername"})),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"label-text",for:"exampleFormControlInput1"},"Password"),s.a.createElement("input",{type:"input",className:"form-control username-input",onChange:this.handleChange,placeholder:"",name:"existingPassword"})),s.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg mt-4 btn-block log-in-button"},"Log in")),s.a.createElement("div",{className:"container-fluid"},e?s.a.createElement("div",null,s.a.createElement("p",{className:"mt-5 text-center"},"Logging in... Redirecting to User Portal.")," ",s.a.createElement(k.a,{className:"authenticate-spinner",animation:"border",variant:"secondary"})):s.a.createElement("div",null))),this.renderAlert()))}}]),a}(n.Component),C=a(103),x=a(6),I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleClose=function(){e.setState({setShow:!1,logInErrorMessage:""})},e.handleShow=function(){""!==e.state.logInErrorMessage&&e.setState({setShow:!0})},e.handleChange=function(t){var a,n=t.target,s=n.name,r=n.value;e.setState((a={},Object(b.a)(a,s,r),Object(b.a)(a,"errorMessage",""),Object(b.a)(a,"logInErrorMessage",""),a))},e.handleNewUserSubmit=function(t){t.preventDefault(),e.postNewUser()},e.postNewUser=function(){e.setState({loading:!0}),E.a.post("/api/register",{username:e.state.newUsername,password:e.state.newPassword}).then((function(t){localStorage.setItem("session_id",t.data.id),localStorage.setItem("user_id",t.data.userId),e.setState({toUserPortal:!0,loading:!1})})).catch((function(t){"empty username and password"===t.response.data.detail&&e.setState({logInErrorMessage:"Please enter a username and password.",setShow:!0,loading:!1}),"empty username"===t.response.data.detail&&e.setState({logInErrorMessage:"Please choose a username.",setShow:!0,loading:!1}),"empty password"===t.response.data.detail&&e.setState({logInErrorMessage:"Please choose a password.",setShow:!0,loading:!1}),"redundant username"===t.response.data.detail&&e.setState({logInErrorMessage:"The username you chose is already taken.  Please try another entry.",setShow:!0,loading:!1})}))},e.renderAlert=function(){if(""!==e.state.logInErrorMessage)return s.a.createElement(v,{setShow:e.state.setShow,handleClose:e.handleClose,logInErrorMessage:e.state.logInErrorMessage})},e.state={newUsername:"",newPassword:"",existingUsername:"",existingPassword:"",errorMessage:"",logInErrorMessage:"",toUserPortal:!1,setShow:!1,loading:!1},e}return Object(m.a)(a,[{key:"render",value:function(){if(!0===this.state.toUserPortal)return s.a.createElement(i.a,{to:"/"});var e=this.state.loading;return s.a.createElement("div",{className:"container-fluid log-in-container"},s.a.createElement("header",{className:"text-center log-in-header"},s.a.createElement(C.a,{className:"mx-auto d-block key-icon"}),s.a.createElement("h2",{className:"mt-2 log-in-text"},"Sign Up")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-5 input-col"},s.a.createElement(x.a,{onSubmit:this.handleNewUserSubmit},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"label-text",for:""},"Choose Username"),s.a.createElement("input",{type:"input",className:"form-control username-input",placeholder:"",name:"newUsername",onChange:this.handleChange})),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"label-text",for:"exampleFormControlInput1"},"Choose Password"),s.a.createElement("input",{type:"password",className:"form-control username-input",placeholder:"",name:"newPassword",onChange:this.handleChange}))," ",s.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg mt-4 btn-block log-in-button"},"Start trading now!")),s.a.createElement("div",{className:"container-fluid"},e?s.a.createElement("div",null,s.a.createElement("p",{className:"mt-5 text-center"},"Creating account... Redirecting to User Portal.")," ",s.a.createElement(k.a,{className:"authenticate-spinner",animation:"border",variant:"secondary"})):s.a.createElement("div",null))),this.renderAlert()))}}]),a}(n.Component),O=a(44),j=a.n(O),M=a(45),q=a(61),U=a(58),B=a(18),P=a(60),Q=a(23),A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(x.a,null,s.a.createElement(x.a.Group,{as:Q.a,controlId:"formGridZip",className:"quanity-col"},s.a.createElement(x.a.Label,{className:"ml-5 mt-3 mb-0"},"Share quantity"),s.a.createElement(x.a.Control,{type:"number",min:"1",max:this.props.quantity,className:"w-50 ml-5 d-inline-block modal-input",name:"quantity",onChange:this.props.quantityChange}))))}}]),a}(n.Component),F=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(x.a,null,s.a.createElement(x.a.Group,{as:Q.a,controlId:"formGridZip",className:"quanity-col"},s.a.createElement(x.a.Label,{className:"ml-5 mt-3 mb-0"},"Share quantity"),s.a.createElement(x.a.Control,{type:"number",min:"1",max:"100",className:"w-50 ml-5 d-inline-block modal-input",name:"quantity",onChange:this.props.onChange}))))}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"d-block container review-container"},s.a.createElement(w.a,{className:"review-alert",show:this.props.setAlertShow,onClose:this.props.handleClose,style:{display:""!==this.props.errorMessage?"block":"none"},variant:"danger"},this.props.errorMessage))}}]),a}(n.Component),T=a(104),L=a(105),R=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).renderAlert=function(){if(""!==e.props.errorMessage)return s.a.createElement(H,{handleClose:e.handleAlertClose,wallet:e.props.wallet,price:e.props.price,errorMessage:e.props.errorMessage,setAlertShow:e.props.setAlertShow})},e.handleAlertClose=function(){e.setState({setShow:!1,errorMessage:""})},e.state={orderHeader:"",errorMessage:"",setShow:!1},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return this.props.isConfirm?s.a.createElement(i.a,{to:{pathname:"/confirm",state:{company:this.props.company,quantity:this.props.dynamicQuantity,price:this.props.price,symbol:this.props.symbol,action:this.props.setAction,isBuy:this.props.isBuy,isSell:this.props.isSell,holdings:this.props.holdings}}}):s.a.createElement("div",null," ",s.a.createElement(P.a,{classname:"purchase-modal",show:this.props.show,onHide:this.props.onHide},s.a.createElement(x.a.Row,null,s.a.createElement("div",{className:"ml-3 mt-5",style:{display:this.props.isSell||this.props.isBuy?"block":"none"}},s.a.createElement("h4",{className:"text-center ml-3"},this.props.isBuy?"Buy":"Sell"," ",this.props.holding.company," shares")),s.a.createElement(x.a.Group,{style:{display:this.props.isSell||this.props.isBuy?"none":"block"},as:Q.a,controlId:"formGridState"},s.a.createElement(x.a.Label,{className:"ml-5 mb-0 mt-5"},"Action"),!1===this.props.sellSubmit?s.a.createElement(x.a.Control,{as:"select",className:"ml-5 mt-0 modal-input w-50",name:"action",onChange:this.props.handleChange},s.a.createElement("option",null,"Buy"),0===this.props.stocks.length?s.a.createElement("option",{disabled:!0},"Sell"):s.a.createElement("option",null,"Sell")):s.a.createElement(x.a.Control,{as:"select",className:"ml-5 mt-0 modal-input w-50",name:"action",onChange:this.props.handleChange})),s.a.createElement(x.a.Group,{style:{display:this.props.isSell||this.props.isBuy?"none":"block"},as:Q.a,controlId:"formGridZip"},"Buy"===this.props.setAction?s.a.createElement(x.a,{className:"search-form"},s.a.createElement(x.a.Label,{className:"mt-5 mb-0"},"Search by company symbol"),s.a.createElement(x.a.Control,{type:"input",name:"symbol",className:"text-uppercase w-75 modal-input",onChange:this.props.handleQueryChange}),s.a.createElement(T.a,{style:{display:this.props.isSearching||"Known symbol"!==this.props.isSymbol?"none":"block"},className:"search-icon"}),s.a.createElement(L.a,{style:{display:this.props.isSearching||"Unknown symbol"!==this.props.isSymbol?"none":"block"},className:"x-icon"}),s.a.createElement("h6",{className:"d-block ml-1 mt-1 result-text"},this.props.company)," "):s.a.createElement(x.a,null,s.a.createElement(x.a.Group,{controlId:"exampleForm.ControlSelect1"},s.a.createElement(x.a.Label,{className:"current-label"},"Current Holdings"),s.a.createElement(x.a.Control,{type:"hidden",onChange:function(t){return e.props.handleHoldings(t)},name:"stockName",as:"select"},this.props.stocks.map((function(t){return e.props.modalHoldings(t)}))))))),s.a.createElement(x.a.Row,null,"Buy"===this.props.setAction||this.props.isBuy?s.a.createElement(F,{onChange:this.props.handleBuyQuantity,quantity:this.props.quantity,symbol:this.props.symbol}):s.a.createElement(A,{onChange:this.props.quantityChange,stocks:this.props.stocks,stockName:this.props.stockName,quantity:this.props.quantity,quantityChange:this.props.quantityChange,sellIncrement:this.props.sellIncrement}),s.a.createElement(x.a.Group,{className:"mb-0",as:Q.a,controlId:"formGridZip"},s.a.createElement(x.a.Label,{className:"ml-1 mt-3 mb-0"},"Total"),s.a.createElement(x.a.Control,{type:"text",name:"price",value:"Unknown symbol"===this.props.isSymbol?"$"+this.props.formatter().format(0):"$"+this.props.formatter().format(this.props.dynamicQuantity*this.props.price),className:"w-50 ml-1 modal-input",readOnly:!0})),this.renderAlert()),s.a.createElement("hr",null),s.a.createElement("h6",{className:"text-center"},"Your Order is not complete yet. Review and confirm your order in the next step."),s.a.createElement(B.a,{className:"d-inline-block mx-auto review-button",variant:"secondary",onClick:this.props.confirmRedirect},"Review Order")," ",s.a.createElement(B.a,{onClick:function(t){return e.props.onHide(t)},className:"d-inline-block mx-auto cancel-button",variant:"danger"},"Cancel Order")," "))}}]),a}(n.Component),D=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid d-block container user-container"},s.a.createElement("h4",{className:"d-inline-block ml-3 mr-3 heading-text"},"User Information"),s.a.createElement(B.a,{onClick:this.props.handleShow,className:"buy-sell-button",variant:"success"},s.a.createElement("span",{className:"font-weight-light"},"Buy/Sell Stocks"))," ",s.a.createElement("hr",{style:{borderTop:"1px solid #1aac3c",width:"100%"}}),s.a.createElement("div",{className:"col-12"},s.a.createElement("h6",{className:"font-weight-normal d-inline-block mb-1 titles-text"},"User"," "),s.a.createElement("h6",{className:"font-weight-light d-block mb-2 name-text"},this.props.loading?s.a.createElement(k.a,{className:"ml-2",variant:"success",animation:"border",size:"sm"}):this.props.username),s.a.createElement("h6",{id:"holdings",className:"font-weight-normal d-inline-block mb-1 titles-text"},"Holdings:"),s.a.createElement("h6",{id:"holding-text",className:"font-weight-light d-block mb-2 name-text"},"$",this.props.loading?s.a.createElement(k.a,{className:"ml-2",variant:"success",animation:"border",size:"sm"}):this.props.formatter().format(this.props.holdings))),s.a.createElement("div",{className:"col-5"},s.a.createElement("h6",{id:"wallet",className:"font-weight-normal d-inline-block mb-1 titles-text"},"Wallet"),s.a.createElement("h6",{className:"font-weight-light name-text mb-2"},"$",this.props.loading?s.a.createElement(k.a,{className:"ml-2",variant:"success",animation:"border",size:"sm"}):this.props.formatter().format(this.props.wallet))))}}]),a}(n.Component),G=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getExchange=function(){""!==e.state.symbol&&E.a.get("/api/stocks/exchanges/"+e.state.symbol,{}).then((function(t){e.setState({exchange:t.data,company:t.data.companyName,price:t.data.latestPrice}),"Unknown symbol"===t.data?e.setState({isSymbol:"Unknown symbol"}):e.setState({isSymbol:"Known symbol"})})).catch((function(t){404===t.response.status&&(e.clearFields(),e.setState({isSymbol:"Unknown symbol",price:0}))}))},e.handleQueryChange=function(t){var a,n;e.clearFields(),e.setState({isSearching:!0});var s=t.target,r=s.name,o=s.value;e.setState((a={},Object(b.a)(a,r,o),Object(b.a)(a,"errorMessage",""),a)),n=setInterval((function(){return e.getExchange(),null!==n&&(clearInterval(n),e.setState({isSearching:!1})),n}),2e3),e.setState({isSearching:!1})},e.getQuantity=function(){e.setState({firstObject:e.state.stocks[0]}),"Sell"===e.state.action&&e.setState({sellQuantity:e.state.firstObject.quantity})},e.parseId=function(){return parseInt(localStorage.getItem("user_id"))},e.handleLogOut=function(e){return localStorage.clear()},e.handleHoldings=function(t,a){var n=e.state.stocks.filter((function(e){return e.company===t.target.value}));e.setState({sellQuantity:n[0].quantity,isHoldings:!0,price:n[0].current,company:n[0].company,symbol:n[0].symbol})},e.handleBuyQuantity=function(t){var a=t.target.value;e.setState({dynamicQuantity:parseInt(a),errorMessage:""})},e.handleQuantityChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(b.a)({},n,e.state.sellQuantity)),e.setState({dynamicQuantity:parseInt(s)})},e.clearFields=function(){e.setState({sellQuantity:0,price:0,company:"",dynamicQuantity:0,isSymbol:"",isSearching:!1})},e.handleBuySellChange=function(t){e.clearFields(),e.setState({action:t.target.value,sellQuantity:e.state.firstObject.quantity,price:e.state.firstObject.current,company:e.state.firstObject.company,symbol:e.state.firstObject.symbol}),"Buy"===t.target.value&&e.setState({company:""})},e.handleShow=function(){e.setState({setShow:!0,action:"Buy",sellSubmit:!1})},e.handleSellShow=function(){e.setState({setShow:!0,action:"Sell",sellSubmit:!0})},e.handleClose=function(t){e.clearFields(),e.setState({setShow:!1,setSell:!0,isSell:!1,isBuy:!1,price:0,company:"",errorMessage:""})},e.getUserInfo=function(){E.a.post("/api/update-portal",{userId:e.parseId()}).then((function(t){e.setState({username:t.data.username,wallet:t.data.balance,holdings:t.data.holdings})}))},e.getDatabaseStocks=function(){var t=Object(U.a)(j.a.mark((function t(a){var n,s,r,o,l,i,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,E.a.post("/api/update-portal/stocks",{userId:e.parseId()});case 3:n=t.sent,e.setState({stocks:n.data}),s=Object(q.a)(n.data),t.prev=6,s.s();case 8:if((r=s.n()).done){t.next=17;break}return o=r.value,t.next=12,E.a.get("/api/stocks/exchanges/"+o.symbol);case 12:l=t.sent,i=Object(b.a)({},"current",l.data.latestPrice),e.state.sampleStock.push(i);case 15:t.next=8;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(6),s.e(t.t0);case 22:return t.prev=22,s.f(),t.finish(22);case 25:c=e.state.stocks.map((function(t,a){return Object(M.a)(Object(M.a)({},t),{},{current:e.state.sampleStock[a].current})})),e.setState({stocks:c}),e.getQuantity(),e.setState({loading:!1});case 29:case"end":return t.stop()}}),t,null,[[6,19,22,25]])})));return function(e){return t.apply(this,arguments)}}(),e.getSellQuantity=function(){var t=e.state.stocks.filter((function(t){return t.company===e.state.stockName}));e.setState({sellQuantity:t[0].quantity,loading:!1})},e.decimalFormatter=function(){return new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},e.renderHoldings=function(t,a){return s.a.createElement("div",{key:a,className:"holdings-render"},s.a.createElement("p",{className:"mb-0 company-text"},t.company),s.a.createElement("h6",{className:"font-weight-normal shares-current"},s.a.createElement("span",{className:"mt-1 d-block",style:{color:"rgb(233, 233, 233)"}},t.quantity," shares")),s.a.createElement("h5",{className:"font-weight-light d-inline-block share-text"},"$",e.state.loading?s.a.createElement(k.a,{className:"ml-2",variant:"success",animation:"border"}):e.decimalFormatter().format(t.current*t.quantity)),s.a.createElement(B.a,{variant:"outline-success",className:"sell-button",onClick:function(t){return e.sellSubmit(a)}},s.a.createElement("span",{className:"font-weight-light"},"Sell shares")),s.a.createElement(B.a,{variant:"outline-success",className:"buy-button",onClick:function(t){return e.buySubmit(a)}},s.a.createElement("span",{className:"font-weight-light"},"Buy shares")))},e.sellSubmit=function(t){e.setState({holding:e.state.stocks[t],isBuy:!1,isSell:!0,action:"Sell",sellQuantity:e.state.stocks[t].quantity,price:e.state.stocks[t].current,company:e.state.stocks[t].company,symbol:e.state.stocks[t].symbol}),e.handleSellShow()},e.buySubmit=function(t){e.setState({holding:e.state.stocks[t],isSell:!1,isBuy:!0,action:"Buy",sellQuantity:e.state.stocks[t].quantity,price:e.state.stocks[t].current,company:e.state.stocks[t].company,symbol:e.state.stocks[t].symbol}),e.handleShow()},e.renderModalHoldings=function(e,t){return s.a.createElement("option",{key:t,value:e.company},e.company," (",e.quantity," shares)")},e.confirmRedirect=function(t){e.state.wallet<parseFloat(e.state.price)*e.state.dynamicQuantity&&!e.state.isSell&&"Buy"===e.state.action?e.setState({setAlertShow:!0,errorMessage:"Insufficient funds. Sell holdings or choose smaller share amount."}):e.setState({isConfirm:!0})},e.state={sampleStock:[],quantity:0,dynamicQuantity:0,price:0,holding:[],firstObject:[],action:"",stocks:[],sellQuantity:1,stockName:"",username:"",wallet:0,balance:0,holdings:0,symbol:"",errorMessage:"",setShow:!1,isSell:!1,isBuy:!1,sellSubmit:!1,loading:!1,isSearching:!1,isSymbol:"",company:"",showError:"",setAlertShow:!1,isConfirm:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getUserInfo(),this.getDatabaseStocks()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid main-container"},s.a.createElement(x.a,{onSubmit:function(t){return e.handleLogOut(t)}},s.a.createElement(B.a,{type:"submit",variant:"outline-success",className:"d-block ml-5 log-out-button"},"Log out")),s.a.createElement(D,{handleShow:this.handleShow,wallet:this.state.wallet,holdings:this.state.holdings,username:this.state.username,loading:this.state.loading,formatter:this.decimalFormatter}),s.a.createElement(R,{action:this.state.action,setAction:this.state.action,isSell:this.state.isSell,isBuy:this.state.isBuy,show:this.state.setShow,onHide:this.handleClose,stocks:this.state.stocks,stockName:this.state.stockname,quantity:this.state.sellQuantity,handleChange:this.handleBuySellChange,sellSubmit:this.state.sellSubmit,holding:this.state.holding,formatter:this.decimalFormatter,handleHoldings:this.handleHoldings,modalHoldings:this.renderModalHoldings,quantityChange:this.handleQuantityChange,handleBuyQuantity:this.handleBuyQuantity,dynamicQuantity:this.state.dynamicQuantity,handleQueryChange:this.handleQueryChange,company:this.state.company,price:this.state.price,symbol:this.state.symbol,holdings:this.state.holdings,isSearching:this.state.isSearching,isSymbol:this.state.isSymbol,wallet:this.state.wallet,isClose:this.state.isClose,setAlertShow:this.state.setAlertShow,errorMessage:this.state.errorMessage,confirmRedirect:this.confirmRedirect,isConfirm:this.state.isConfirm}),s.a.createElement("div",{className:"container-fluid d-block holdings-container"},s.a.createElement("h4",{className:"heading-text"},"Current Holdings"),s.a.createElement("hr",{style:{borderTop:"1px solid #1aac3c",width:"100%"}}),this.state.stocks.map(this.renderHoldings)))}}]),a}(n.Component),_=a(59),$=a.n(_),W=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(b.a)({},n,s))},e.handleQuantityChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(b.a)({},n,s))},e.handleAlertClose=function(){e.setState({setShow:!1})},e.handleClose=function(t){e.setState({cancel:!0})},e.putStockTransaction=function(){var t=parseInt(localStorage.getItem("user_id"));("Buy"===e.props.location.state.action||e.props.location.state.isBuy)&&E.a.put("/api/transaction/buy",{userId:t,balance:e.props.location.state.price*e.props.location.state.quantity}).catch((function(t){"insufficient balance"===t.response.data.detail&&e.setState({errorMessage:"You have insufficient funds for this purpose. Please try another order.",setShow:!0})})),("Sell"===e.props.location.state.action||e.props.location.state.isSell)&&E.a.put("/api/transaction/sell",{userId:t,balance:e.props.location.state.price*e.props.location.state.quantity}).catch((function(e){}))},e.postNewDepositTransaction=function(){e.setState({loading:!0}),e.putStockTransaction();var t=parseInt(localStorage.getItem("user_id"));E.a.post("/api/transaction/sell",{userId:t,deposit:e.props.location.state.price*e.props.location.state.quantity,quantity:e.props.location.state.quantity,exchange:e.props.location.state.symbol}).then((function(t){200===t.status&&e.setState({loading:!1,redirect:!0})})).catch((function(e){})),e.deleteStockRecord()},e.postNewWithdrawalTransaction=function(){e.setState({loading:!0}),e.putStockTransaction();var t=parseInt(localStorage.getItem("user_id"));E.a.post("/api/transaction/buy",{userId:t,withdrawal:e.props.location.state.price*e.props.location.state.quantity,quantity:e.props.location.state.quantity,exchange:e.props.location.state.symbol}).then((function(t){200===t.status&&e.setState({loading:!1,redirect:!0})})).catch((function(e){})),e.addStockRecord()},e.addStockRecord=function(){if(!e.state.isError){var t=parseInt(localStorage.getItem("user_id"));E.a.post("/api/transaction/add-stock",{userId:t,company:e.props.location.state.company,symbol:e.props.location.state.symbol,quantity:e.props.location.state.quantity})}},e.deleteStockRecord=function(){var t=parseInt(localStorage.getItem("user_id"));E.a.post("/api/transaction/delete-stock",{userId:t,company:e.props.location.state.company,symbol:e.props.location.state.symbol,quantity:e.props.location.state.quantity})},e.decimalFormatter=function(){return new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},e.renderAlert=function(){if(""!==e.state.errorMessage)return s.a.createElement(v,{setShow:e.state.setShow,handleClose:function(t){return e.handleAlertClose(t)},logInErrorMessage:e.state.errorMessage})},e.state={errorMessage:"",cancel:!1,setShow:!1,isError:!1,redirect:!1},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;if(this.state.cancel||this.state.redirect)return s.a.createElement(i.a,{to:{pathname:"/user-portal"}});var t=this.state.loading;return s.a.createElement("div",null,s.a.createElement("h2",{className:"mt-5 ml-5"}),s.a.createElement("h6",{className:"font-weight-normal text-center ml-5"},this.props.location.state.company,s.a.createElement("span",null,"( "),s.a.createElement("span",{className:"text-uppercase special-characters"},this.props.location.state.symbol),s.a.createElement("span",null," )")),s.a.createElement("h6",{className:"font-weight-normal text-center ml-5"},"Quantity",this.props.location.state.isSell||"Sell"===this.props.location.state.action?" Sold":"",": ",this.props.location.state.quantity),s.a.createElement("h6",{className:"font-weight-normal text-center ml-5"},"Price: $",this.decimalFormatter().format(this.props.location.state.price)),s.a.createElement("h2",{className:"text-center mt-5 ml-5"},"Order Summary"),s.a.createElement("h6",{className:"font-weight-bold text-center mt-2 ml-5"},"Subtotal:",s.a.createElement("span",{className:"font-weight-normal text-center confirm-span"},"$",this.props.location.state.price," x"," ",this.props.location.state.quantity," (",s.a.createElement("span",{className:"special-characters"}," shares "),") = $",this.decimalFormatter().format(this.props.location.state.quantity*this.props.location.state.price))),s.a.createElement("hr",null),s.a.createElement("h5",{className:"text-center ml-5"},"Total:",s.a.createElement("span",{className:"font-weight-normal text-center confirm-span"},"$",this.decimalFormatter().format(this.props.location.state.quantity*this.props.location.state.price))),s.a.createElement(B.a,{className:"mt-4 confirm-button",variant:"secondary",onClick:"Buy"===this.props.location.state.action?this.postNewWithdrawalTransaction:this.postNewDepositTransaction},"Confirm")," ",s.a.createElement(B.a,Object(b.a)({onClick:this.props.onHide,className:"d-inline-block mx-auto cancel-button",variant:"danger"},"onClick",(function(t){return e.handleClose(t)})),"Cancel")," ",this.renderAlert(),s.a.createElement("div",{className:"container-fluid"},t?s.a.createElement("div",null,s.a.createElement("p",{className:"mt-3 text-center"},"Processing order... Redirecting to User Portal.")," ",s.a.createElement($.a,null)):s.a.createElement("div",null)))}}]),a}(n.Component),z=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.component;return null!==localStorage.getItem("session_id")?s.a.createElement(e,null):s.a.createElement(i.a,{to:{pathname:"/landing-page"}})}}]),a}(n.Component);o.a.render(s.a.createElement(l.a,null,s.a.createElement(i.d,null,s.a.createElement(i.b,{path:"/confirm",render:function(e){return s.a.createElement(W,e)}}),s.a.createElement(i.b,{path:"/sign-up",render:function(e){return s.a.createElement(I,e)}}),s.a.createElement(i.b,{path:"/log-in",render:function(e){return s.a.createElement(N,e)}}),s.a.createElement(i.b,{path:"/landing-page",component:y}),s.a.createElement(z,{exact:!0,path:"/",component:G}),s.a.createElement(z,{component:G}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.a3819c2e.chunk.js.map